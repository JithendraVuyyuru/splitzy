(this.webpackJsonpsplitzy=this.webpackJsonpsplitzy||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(7),r=a.n(c),s=(a(16),a(3)),i=a(2);var m=()=>{const e=Object(i.p)();return l.a.createElement("nav",{className:"navbar"},l.a.createElement("h1",{className:"logo",onClick:()=>e("/")},"SplitZy"),"  ",l.a.createElement("div",{className:"nav-links"},l.a.createElement("button",{onClick:()=>e("/")},"Home"),l.a.createElement("button",{onClick:()=>e("/create-split")},"Create Split"),l.a.createElement("button",{onClick:()=>e("/split-details")},"Transactions")))};var o=()=>{const e=Object(i.p)(),[t,a]=Object(n.useState)([]);return Object(n.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("transactions"))||[];a(e.reverse())},[]),l.a.createElement("div",{className:"container"},l.a.createElement(m,null),"  ",l.a.createElement("div",{className:"header"},l.a.createElement("p",{className:"sub-text"},"Manage your expenses with friends.")),l.a.createElement("div",{className:"card home-card"},l.a.createElement("h3",null,"Create a New Split"),l.a.createElement("p",null,"Split your bill easily and share with your friends."),l.a.createElement("button",{className:"button",onClick:()=>e("/create-split")},"Create Split")),l.a.createElement("h3",{className:"sub-heading"},"Recent Transactions"),0===t.length?l.a.createElement("p",{className:"no-transactions"},"No transactions yet. Create a split!"):t.map(t=>l.a.createElement("div",{key:t.id,className:"card transaction-card"},l.a.createElement("div",{className:"transaction-details"},l.a.createElement("p",{className:"transaction-name"},t.title),l.a.createElement("p",{className:"transaction-amount"},"\u20b9",t.amount),l.a.createElement("p",{className:"transaction-time"},t.timestamp)),l.a.createElement("button",{className:"button small",onClick:()=>e("/split-details",{state:t})},"View"))))};var u=()=>{const e=Object(i.p)(),[t,a]=Object(n.useState)(""),[c,r]=Object(n.useState)(""),[s,o]=Object(n.useState)(""),[u,p]=Object(n.useState)("");return l.a.createElement("div",{className:"container"},l.a.createElement(m,null),"  ",l.a.createElement("div",{className:"form-container"},l.a.createElement("h2",null,"Create Split"),l.a.createElement("p",{className:"sub-text"},"Enter details for bill splitting."),l.a.createElement("form",{className:"card split-form",onSubmit:a=>{if(a.preventDefault(),!t||!c||!s||!u)return void alert("\u274c Please fill in all fields before proceeding.");const n=u.split(",").map(e=>e.trim()).filter(e=>""!==e);if(0===n.length)return void alert("\u274c Please enter at least one participant.");const l={id:Date.now(),title:t,amount:c,hostUpiId:s,participants:n,timestamp:(new Date).toLocaleString()},r=JSON.parse(localStorage.getItem("transactions"))||[];r.push(l),localStorage.setItem("transactions",JSON.stringify(r)),e("/split-details",{state:l})}},l.a.createElement("label",null,"Title"),l.a.createElement("input",{type:"text",className:"input-field",placeholder:"e.g. Dinner at XYZ",value:t,onChange:e=>a(e.target.value),required:!0}),l.a.createElement("label",null,"Total Amount"),l.a.createElement("input",{type:"number",className:"input-field",placeholder:"\u20b9",value:c,onChange:e=>r(e.target.value),required:!0}),l.a.createElement("label",null,"Host UPI ID"),l.a.createElement("input",{type:"text",className:"input-field",placeholder:"yourupi@upi",value:s,onChange:e=>o(e.target.value),required:!0}),l.a.createElement("label",null,"Participants (comma-separated)"),l.a.createElement("input",{type:"text",className:"input-field",placeholder:"Alice, Bob, Charlie",value:u,onChange:e=>p(e.target.value),required:!0}),l.a.createElement("button",{type:"submit",className:"button"},"Proceed"))))};var p=()=>{const e=Object(i.n)().state,[t,a]=Object(n.useState)({});if(Object(n.useEffect)(()=>{if(e){const{hostUpiId:t,participants:n,amount:l}=e,c=(l/n.length).toFixed(2),r={};n.forEach(e=>{const a=`${e}-${c}-${t}`;r[e]="paid"===localStorage.getItem(a)}),a(r)}},[e]),!e)return l.a.createElement("p",{className:"error"},"\u274c No transaction found.");const{title:c,amount:r,hostUpiId:s,participants:o}=e,u=(r/o.length).toFixed(2),p=window.location.origin+"/your-repo-name/#/pay";return l.a.createElement("div",{className:"container"},l.a.createElement(m,null),l.a.createElement("div",{className:"header"},l.a.createElement("h2",null,c),l.a.createElement("p",{className:"sub-text"},"Total Amount: \u20b9",r)),l.a.createElement("div",{className:"card upi-card"},l.a.createElement("p",{className:"label"},"Host UPI ID"),l.a.createElement("p",{className:"upi"},s)),l.a.createElement("h3",{className:"sub-heading"},"Participants"),l.a.createElement("ul",{className:"participants-list"},o.map((e,a)=>{const n=`${p}?name=${encodeURIComponent(e)}&amount=${u}&upi=${encodeURIComponent(s)}`;return console.log(`Generated Payment Link for ${e}:`,n),l.a.createElement("li",{key:a,className:"card participant"},l.a.createElement("div",null,l.a.createElement("p",{className:"participant-name"},e),l.a.createElement("p",{className:"split-amount"},"\u20b9",u)),t[e]?l.a.createElement("p",{className:"success-message"},"\u2705 Paid"):l.a.createElement("button",{className:"button small",onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),alert("\u2705 Payment link copied! Share it with the participant.")}catch(t){console.error("\u274c Copy failed:",t),alert("\u274c Failed to copy link. Try manually selecting and copying.")}})(n)},"Copy Link"))})))};var d=()=>{const e=Object(i.n)(),t=new URLSearchParams(e.search),a=t.get("name")||"Guest",c=t.get("amount")||"0",r=t.get("upi")||"",s=`${a}-${c}-${r}`,m=`upi://pay?pa=${r}&pn=${encodeURIComponent(a)}&am=${c}&cu=INR`,[o,u]=Object(n.useState)("paid"===localStorage.getItem(s)),[p,d]=Object(n.useState)(!1);Object(n.useEffect)(()=>{const e=()=>{"visible"!==document.visibilityState||o||d(!0)};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[o]);return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card"},l.a.createElement("h2",{className:"text-xl font-bold"},"Payment Details"),l.a.createElement("p",null,l.a.createElement("strong",null,"Name:")," ",a),l.a.createElement("p",null,l.a.createElement("strong",null,"Amount to Pay:")," \u20b9",c),l.a.createElement("p",null,l.a.createElement("strong",null,"Host UPI ID:")," ",r),o?l.a.createElement("p",{className:"success-message"},"\u2705 Payment Successful!"):l.a.createElement("button",{className:"button",onClick:()=>window.location.href=m},"Pay Now")),p&&l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("h3",null,"Confirm Payment"),l.a.createElement("p",null,"Did you complete the payment?"),l.a.createElement("button",{className:"button small",onClick:()=>{localStorage.setItem(s,"paid"),u(!0),d(!1)}},"Yes, I Paid"),l.a.createElement("button",{className:"button small cancel",onClick:()=>d(!1)},"Cancel"))))};var E=function(){return l.a.createElement(s.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",element:l.a.createElement(o,null)}),l.a.createElement(i.a,{path:"/create-split",element:l.a.createElement(u,null)}),l.a.createElement(i.a,{path:"/split-details",element:l.a.createElement(p,null)}),l.a.createElement(i.a,{path:"/pay",element:l.a.createElement(d,null)})))};var b=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:c,getTTFB:r}=t;a(e),n(e),l(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(E,null))),b()},8:function(e,t,a){e.exports=a(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.7248562b.chunk.js.map