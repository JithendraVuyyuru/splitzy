(this.webpackJsonpsplitzy=this.webpackJsonpsplitzy||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(7),r=a.n(c),s=(a(16),a(3)),i=a(2);var m=()=>{const e=Object(i.p)();return n.a.createElement("nav",{className:"navbar"},n.a.createElement("h1",{className:"logo",onClick:()=>e("/")},"SplitZy"),"  ",n.a.createElement("div",{className:"nav-links"},n.a.createElement("button",{onClick:()=>e("/")},"Home"),n.a.createElement("button",{onClick:()=>e("/create-split")},"Create Split"),n.a.createElement("button",{onClick:()=>e("/split-details")},"Transactions")))};var o=()=>{const e=Object(i.p)(),[t,a]=Object(l.useState)([]);return Object(l.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("transactions"))||[];a(e.reverse())},[]),n.a.createElement("div",{className:"container"},n.a.createElement(m,null),"  ",n.a.createElement("div",{className:"header"},n.a.createElement("p",{className:"sub-text"},"Manage your expenses with friends.")),n.a.createElement("div",{className:"card home-card"},n.a.createElement("h3",null,"Create a New Split"),n.a.createElement("p",null,"Split your bill easily and share with your friends."),n.a.createElement("button",{className:"button",onClick:()=>e("/create-split")},"Create Split")),n.a.createElement("h3",{className:"sub-heading"},"Recent Transactions"),0===t.length?n.a.createElement("p",{className:"no-transactions"},"No transactions yet. Create a split!"):t.map(t=>n.a.createElement("div",{key:t.id,className:"card transaction-card"},n.a.createElement("div",{className:"transaction-details"},n.a.createElement("p",{className:"transaction-name"},t.title),n.a.createElement("p",{className:"transaction-amount"},"\u20b9",t.amount),n.a.createElement("p",{className:"transaction-time"},t.timestamp)),n.a.createElement("button",{className:"button small",onClick:()=>e("/split-details",{state:t})},"View"))))};var u=()=>{const e=Object(i.p)(),[t,a]=Object(l.useState)(""),[c,r]=Object(l.useState)(""),[s,o]=Object(l.useState)(""),[u,p]=Object(l.useState)("");return n.a.createElement("div",{className:"container"},n.a.createElement(m,null),"  ",n.a.createElement("div",{className:"form-container"},n.a.createElement("h2",null,"Create Split"),n.a.createElement("p",{className:"sub-text"},"Enter details for bill splitting."),n.a.createElement("form",{className:"card split-form",onSubmit:a=>{if(a.preventDefault(),!t||!c||!s||!u)return void alert("\u274c Please fill in all fields before proceeding.");const l=u.split(",").map(e=>e.trim()).filter(e=>""!==e);if(0===l.length)return void alert("\u274c Please enter at least one participant.");const n={id:Date.now(),title:t,amount:c,hostUpiId:s,participants:l,timestamp:(new Date).toLocaleString()},r=JSON.parse(localStorage.getItem("transactions"))||[];r.push(n),localStorage.setItem("transactions",JSON.stringify(r)),e("/split-details",{state:n})}},n.a.createElement("label",null,"Title"),n.a.createElement("input",{type:"text",className:"input-field",placeholder:"e.g. Dinner at XYZ",value:t,onChange:e=>a(e.target.value),required:!0}),n.a.createElement("label",null,"Total Amount"),n.a.createElement("input",{type:"number",className:"input-field",placeholder:"\u20b9",value:c,onChange:e=>r(e.target.value),required:!0}),n.a.createElement("label",null,"Host UPI ID"),n.a.createElement("input",{type:"text",className:"input-field",placeholder:"yourupi@upi",value:s,onChange:e=>o(e.target.value),required:!0}),n.a.createElement("label",null,"Participants (comma-separated)"),n.a.createElement("input",{type:"text",className:"input-field",placeholder:"Alice, Bob, Charlie",value:u,onChange:e=>p(e.target.value),required:!0}),n.a.createElement("button",{type:"submit",className:"button"},"Proceed"))))};var p=()=>{const e=Object(i.n)().state,[t,a]=Object(l.useState)({});if(Object(l.useEffect)(()=>{if(e){const{hostUpiId:t,participants:l,amount:n}=e,c=(n/l.length).toFixed(2),r={};l.forEach(e=>{const a=`${e}-${c}-${t}`;r[e]="paid"===localStorage.getItem(a)}),a(r)}},[e]),!e)return n.a.createElement("p",{className:"error"},"\u274c No transaction found.");const{title:c,amount:r,hostUpiId:s,participants:o}=e,u=(r/o.length).toFixed(2),p=window.location.origin+"/splitzy/#/pay";return n.a.createElement("div",{className:"container"},n.a.createElement(m,null),n.a.createElement("div",{className:"header"},n.a.createElement("h2",null,c),n.a.createElement("p",{className:"sub-text"},"Total Amount: \u20b9",r)),n.a.createElement("div",{className:"card upi-card"},n.a.createElement("p",{className:"label"},"Host UPI ID"),n.a.createElement("p",{className:"upi"},s)),n.a.createElement("h3",{className:"sub-heading"},"Participants"),n.a.createElement("ul",{className:"participants-list"},o.map((e,a)=>{const l=`${p}?name=${encodeURIComponent(e)}&amount=${u}&upi=${encodeURIComponent(s)}`;return console.log(`Generated Payment Link for ${e}:`,l),n.a.createElement("li",{key:a,className:"card participant"},n.a.createElement("div",null,n.a.createElement("p",{className:"participant-name"},e),n.a.createElement("p",{className:"split-amount"},"\u20b9",u)),t[e]?n.a.createElement("p",{className:"success-message"},"\u2705 Paid"):n.a.createElement("button",{className:"button small",onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),alert("\u2705 Payment link copied! Share it with the participant.")}catch(t){console.error("\u274c Copy failed:",t),alert("\u274c Failed to copy link. Try manually selecting and copying.")}})(l)},"Copy Link"))})))};var d=()=>{const e=Object(i.n)(),t=new URLSearchParams(e.search),a=t.get("name")||"Guest",c=t.get("amount")||"0",r=t.get("upi")||"",s=`${a}-${c}-${r}`,m=`upi://pay?pa=${r}&pn=${encodeURIComponent(a)}&am=${c}&cu=INR`,[o,u]=Object(l.useState)("paid"===localStorage.getItem(s)),[p,d]=Object(l.useState)(!1);Object(l.useEffect)(()=>{const e=()=>{"visible"!==document.visibilityState||o||d(!0)};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[o]);return n.a.createElement("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-between"},n.a.createElement("div",{className:"bg-black text-white p-5 rounded-b-3xl shadow-md"},n.a.createElement("h2",{className:"text-2xl font-semibold"},"Deposit")),n.a.createElement("div",{className:"flex flex-col items-center justify-center p-6"},n.a.createElement("div",{className:"bg-white rounded-3xl shadow-lg p-6 w-11/12 text-center"},n.a.createElement("h3",{className:"text-gray-700 text-xl font-semibold"},"Bank SCA"),n.a.createElement("p",{className:"text-gray-500 mt-1"},"Deposit on ",(new Date).toDateString()),n.a.createElement("h1",{className:"text-5xl font-bold text-black my-5"},"\u20b9",c),o?n.a.createElement("p",{className:"text-green-600 text-lg font-bold"},"\u2705 Payment Successful!"):n.a.createElement("button",{onClick:()=>window.location.href=m,className:"w-full bg-black text-white py-3 rounded-full mt-4 text-lg font-medium"},"Pay Now"))),p&&n.a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center"},n.a.createElement("div",{className:"bg-white p-6 rounded-xl shadow-lg w-80 text-center"},n.a.createElement("h3",{className:"text-xl font-semibold"},"Confirm Payment"),n.a.createElement("p",{className:"text-gray-600 my-3"},"Did you complete the payment?"),n.a.createElement("button",{onClick:()=>{localStorage.setItem(s,"paid"),u(!0),d(!1)},className:"w-full bg-green-500 text-white py-2 rounded-md text-lg font-medium mb-2"},"Yes, I Paid"),n.a.createElement("button",{onClick:()=>d(!1),className:"w-full bg-gray-300 py-2 rounded-md text-lg font-medium"},"Cancel"))),n.a.createElement("div",{className:"bg-white shadow-lg py-3 flex justify-around items-center fixed bottom-0 w-full rounded-t-3xl"},n.a.createElement("button",{className:"text-gray-500 text-2xl"},"\ud83c\udfe0"),n.a.createElement("button",{className:"bg-black text-white text-2xl rounded-full p-3"},"\ud83d\udcb2"),n.a.createElement("button",{className:"text-gray-500 text-2xl"},"\ud83d\udcdc")))};var E=function(){return n.a.createElement(s.a,null,n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/",element:n.a.createElement(o,null)}),n.a.createElement(i.a,{path:"/create-split",element:n.a.createElement(u,null)}),n.a.createElement(i.a,{path:"/split-details",element:n.a.createElement(p,null)}),n.a.createElement(i.a,{path:"/pay",element:n.a.createElement(d,null)})))};var b=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:c,getTTFB:r}=t;a(e),l(e),n(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E,null))),b()},8:function(e,t,a){e.exports=a(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.c3c469ba.chunk.js.map